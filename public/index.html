<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AlboradaKPI</title>
    <link rel="icon" href="favicon.png" type="image/png">
    <link rel="stylesheet" href="/style.css">
    <!-- <script src="https://accounts.google.com/gsi/client" async defer></script> -->
    <script type="module" src="./js/firebase.js"></script>
    <script src="js/script.js"> </script>
</head>
<body>
  <section class="sectionView welcome hidden">
    <header class="hero">
      <!-- ====== Sección de bienvenida - Inicio ====== -->
      <section>
      <div class="logo">
        <img src="img/alborada.svg" class="alboradaIllustration" alt="alborada illustration">
        <div class="text">
        <p class="appDescription">Administrador KPIs.</p>
        <h1 class="title">Alborada</h1>
        <p class="subTitle hidden">urbanización</p>
        </div>
      </div>
      <h2 class="subtitle">Bienvenido a nuestra plataforma digital para la gestión de tu hogar.</h2>
      <p class="hero-description">Hemos creado este espacio pensando en ti. Consulta tus estados de cuenta, reporta pagos y mantente al día con el condominio de forma rápida, segura y transparente. Toda la información que necesitas, en un solo lugar.</p>
      <div class="heroButtonContainer">
        <button id="btnIngresar" class="cta">Ingresar</button>
        <button id="start-button" class="info">Documentación</button>
      </div>
      </section>
      <section>
      <ul class="hero-advantages">
        <li class="hidden-animation-element">
        <svg class="advantage-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"></path></svg>
        <div>
          <span class="hidden-animation-element">Transparencia Financiera</span>
          <p class="hidden-animation-element">Tu estado de cuenta, siempre claro y actualizado. Accede a tu historial de movimientos 24/7.</p>
        </div>
        </li>
        <li class="hidden-animation-element">
        <svg class="advantage-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>
        <div>
          <span class="hidden-animation-element">Gestión Simplificada</span>
          <p class="hidden-animation-element">Crea reportes, agiliza el registro de tus transacciones o consulta el estado de tus solicitudes.</p>
        </div>
        </li>
        <li class="hidden-animation-element">
        <svg class="advantage-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg>
        <div>
          <span class="hidden-animation-element">Comunicación Directa</span>
          <p class="hidden-animation-element">Solicita servicios,  o contacta a la administración desde la palma de tu mano.</p>
        </div>
        </li>
      </ul>
      </section>
      <!-- ====== Sección de bienvenida - Final ====== -->
    </header>
  </section>




  <!-- ====== Sección de Autenticación - Inicio ====== -->
  <section class="sectionView authentication hidden">
    <section id="auth-container" class="auth-container">
      <div class="auth-card">
        <h1 class="auth-title">Bienvenido</h1>
        <div class="form-group">
          <label for="email" class="form-label">Correo Electrónico</label>
          <div class="input-wrapper">
            <input type="email" id="email" class="form-input" placeholder="tu@email.com" required pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"><path fill="currentColor" d="M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414zM0 4.697v7.104l5.803-3.558zM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586zm3.436-.586L16 11.801V4.697z"/>
            <svg class="input-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
              <path d="M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414zM0 4.697v7.104l5.803-3.558zM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586zm3.436-.586L16 11.801V4.697z"/>
            </svg>
          </div>
        </div>
          <div class="form-group">
            <label for="password" class="form-label">Contraseña</label>
            <div class="input-wrapper">
              <input type="password" id="password" class="form-input" placeholder="******************">
              <svg class="input-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M8 0c1.07 0 2.041.42 2.759 1.104l.14.14.062.08a.5.5 0 0 1-.71.675l-.076-.066-.216-.205A3 3 0 0 0 5 4v2h6.5A2.5 2.5 0 0 1 14 8.5v5a2.5 2.5 0 0 1-2.5 2.5h-7A2.5 2.5 0 0 1 2 13.5v-5a2.5 2.5 0 0 1 2-2.45V4a4 4 0 0 1 4-4"/>
              </svg>
            </div>
          </div>
          <div class="button-group">
            <button id="loginButton" class="button principal">Iniciar Sesión</button>
            <button id="registerButton" class="button secondary">Registrarse</button>
          </div>
          <div class="form-group" style="text-align: right; margin-top: -10px; margin-bottom: 20px;">
              <a href="#" id="forgotPasswordLink" class="form-link">¿Olvidaste tu contraseña?</a>
          </div>
          <div class="separator"><span>O</span></div>
          <div class="button-group">
            <button id="googleSignInButton" class="button google-signin">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" style="margin-right: 10px;"><path fill="#4285F4" d="M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12.43C5,8.61 8.36,5.59 12.19,5.59C14.03,5.59 15.69,6.15 16.95,7.24L19.05,5.14C17.22,3.44 15,2.5 12.19,2.5C7.03,2.5 3,6.58 3,12.43C3,18.28 7.03,22.36 12.19,22.36C17.6,22.36 21.7,18.46 21.7,12.68C21.7,12.06 21.54,11.57 21.35,11.1Z"></path></svg>
                Continuar con Google
            </button>
          </div>
          <p id="error-message" class="error-message"></p>
        </div>
    </section>
  </section>
  <!-- ====== Sección de Autenticación - Fin ====== -->








  <!-- ====== Sección del Dashboard - Inicio ====== -->
  <section class="sectionView dashboard hidden">
    <header class="dashboard-header">
      <h1 id="welcome-message" class="dashboard-welcome-message"></h1>
      <button id="logoutButton" class="button button-accent">Cerrar Sesión</button>
    </header>


    <!-- ====== Menú de Opciones del Dashboard - Inicio ====== -->
    <aside id="dashboard-menu" class="dashboard-menu">
      <button>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="#3b3c2b"><path d="M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z"/></svg>
      </button>
      <nav>
        <ul>
          <li class="menu-item resident-only"><a href="#" data-view="summary"><span>Resumen</span></a></li>
          <li class="menu-item resident-only"><a href="#" data-view="residents"><span>Residentes</span></a></li>
          <li class="menu-item resident-only"><a href="#" data-view="services"><span>Servicios</span></a></li>
          <li class="menu-item resident-only"><a href="#" data-view="reports"><span>Reportes</span></a></li>
          <li class="menu-item admin-only"><a href="#" data-view="payment"><span>Pagos</span></a></li>
        </ul>
       </nav>
    </aside>
    <!-- ====== Menú de Opciones del Dashboard - Fin ====== -->

    <section id="dashboard-container" class="dashboard-container">
        <main class="dashboard-main">
            <!-- ====== Sub-sección: Resumen de Estadísticas - Inicio ====== -->
            <div class="admin-stats-grid">
                <div class="stat-card">
                    <h3 class="stat-card-title">Residentes Registrados</h3>
                    <p id="stat-total-residents" class="stat-card-number">0</p>
                </div>
                <div class="stat-card">
                    <h3 class="stat-card-title">Solicitudes Pendientes</h3>
                    <p id="stat-pending-requests" class="stat-card-number">0</p>
                </div>
                <div class="stat-card">
                    <h3 class="stat-card-title">Pagos por Verificar</h3>
                    <p id="stat-pending-payments" class="stat-card-number">0</p>
                </div>
                <div class="stat-card">
                    <h3 class="stat-card-title">Saldo Vencido Total</h3>
                    <p id="stat-overdue-balance" class="stat-card-number">$0.00</p>
                </div>
            </div>
            <!-- ====== Sub-sección: Resumen de Estadísticas - Fin ====== -->


            <!-- ====== Sub-sección: Resumen Financiero - Inicio ====== -->
            <div class="dashboard-summary-card">
                <h2 id="property-name" class="dashboard-summary-title"></h2>
                <p class="dashboard-summary-label">Saldo Actual</p>
                <p id="property-balance" class="dashboard-summary-balance">0.00</p>
                <div class="button-group" style="margin-top: 1.5rem;">
                    <button id="report-payment-button" class="button button-primary">Reportar un Pago</button>
                </div>
            </div>
            <!-- ====== Sub-sección: Resumen Financiero - Fin ====== -->

            <!-- ====== Sub-sección: Catálogo de Servicios - Inicio ====== -->
            <div class="dashboard-services-card">
                <h2 class="dashboard-transactions-title">Solicitar Servicios</h2>
                <div id="services-list-container">
                    <!-- Los servicios solicitables se insertarán aquí -->
                </div>
            </div>
            <!-- ====== Sub-sección: Catálogo de Servicios - Fin ====== -->

            <!-- ====== Sub-sección: Historial de Transacciones - Inicio ====== -->
            <div class="dashboard-transactions-card">
                <h2 class="dashboard-transactions-title">Historial de Transacciones</h2>
                <div class="table-responsive">
                    <table class="transactions-table">
                        <thead>
                            <tr>
                                <th class="table-header">Fecha</th>
                                <th class="table-header">Descripción</th>
                                <th class="table-header">Comprobante</th>
                                <th class="table-header">Nro.</th>
                                <th class="table-header text-right">Débito (-)</th>
                                <th class="table-header text-right">Crédito (+)</th>
                                <th class="table-header text-right">Saldo</th>
                            </tr>
                        </thead>
                        <tbody id="transactions-table-body">
                            <!-- Las filas de transacciones se insertarán aquí -->
                        </tbody>
                    </table>
                </div>
            </div>
            <!-- ====== Sub-sección: Historial de Transacciones - Fin ====== -->


            <!-- Separador -->
            <div class="separator"><span>Conceptos Existentes</span></div>

            <!-- Tabla de conceptos existentes -->
            <div class="table-responsive">
                <table class="transactions-table">
                    <thead>
                        <tr>
                            <th class="table-header">Nombre</th>
                            <th class="table-header">Monto</th>
                            <th class="table-header">Tipo</th>
                            <th class="table-header">Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="concepts-table-body">
                        <!-- Las filas se insertarán aquí -->
                    </tbody>
                </table>
            </div>
        </div>
        <!-- ====== Sub-sección: Gestión de Conceptos de Cargo - Fin ====== -->

        <!-- ====== Sub-sección: Gestión de Conceptos de Cargo - Inicio ====== -->
        <div class="admin-card">
            <h2 class="admin-card-title">Gestión de Conceptos de Cargo</h2>
            
            <!-- Formulario para crear/editar -->
            <form id="concept-form" class="concept-form">
                <input type="hidden" id="concept-id">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="concept-name" class="form-label">Nombre del Concepto</label>
                        <input type="text" id="concept-name" class="form-input" placeholder="Ej: Cuota de Mantenimiento" required>
                    </div>
                    <div class="form-group">
                        <label for="concept-amount" class="form-label">Monto por Defecto (USD)</label>
                        <input type="number" id="concept-amount" class="form-input" placeholder="15.00" step="0.01" required>
                    </div>
                </div>
                <div class="form-group-checkboxes">
                    <label class="checkbox-label">
                        <input type="checkbox" id="concept-recurring">
                        ¿Es Recurrente?
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" id="concept-requestable">
                        ¿Es Solicitable por Residente?
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" id="concept-approval">
                        ¿Requiere Aprobación?
                    </label>
                </div>
                <div id="recurring-options" class="form-group hidden">
                    <label for="concept-frequency" class="form-label">Frecuencia de Cobro</label>
                    <select id="concept-frequency" class="form-input">
                        <option value="monthly">Mensual</option>
                        <option value="yearly">Anual</option>
                    </select>
                </div>
                <div class="button-group">
                    <button type="submit" class="button button-primary">Guardar Concepto</button>
                    <button type="button" id="cancel-edit-button" class="button button-secondary hidden">Cancelar Edición</button>
                </div>
            </form>
        </main>
    </section>
    <!-- ====== Sección del Dashboard - Fin ====== -->

    <!-- ====== Sección de Administración - Inicio ====== -->
    <div id="admin-container" class="hidden dashboard-container">
        <header class="dashboard-header">
            <h1 class="dashboard-welcome-message">Panel de Administración</h1>
            <button id="adminLogoutButton" class="button button-accent">Cerrar Sesión</button>
        </header>

        <main class="admin-main">








        </main>
    </div>
    <!-- ====== Sección de Administración - Fin ====== -->

    <!-- ====== Contenedor de Notificaciones Toast - Inicio ====== -->
    <div id="toast-container"></div>
    <!-- ====== Contenedor de Notificaciones Toast - Fin ====== -->

    <!-- ====== Modal de Reporte de Pago - Inicio ====== -->
    <div id="payment-modal" class="modal-overlay hidden">
        <div class="modal-card">
            <h2 class="admin-card-title">Reportar Pago</h2>
            <form id="payment-form">
                <div class="form-group">
                    <label for="payment-amount" class="form-label">Monto Pagado</label>
                    <input type="number" id="payment-amount" class="form-input" step="0.01" placeholder="0.00" required>
                </div>
                <div class="form-group">
                    <label for="payment-date" class="form-label">Fecha de Pago</label>
                    <input type="date" id="payment-date" class="form-input" required>
                </div>
                <div class="form-group">
                    <label for="payment-receipt" class="form-label">Comprobante (Opcional)</label>
                    <input type="file" id="payment-receipt" class="form-input" accept="image/*">
                </div>
                <div class="form-group">
                    <label for="payment-notes" class="form-label">Notas (Opcional)</label>
                    <textarea id="payment-notes" class="form-input" rows="3" placeholder="Ej: Pago de la cuota de Octubre"></textarea>
                </div>
                <div class="button-group" style="flex-direction: row; justify-content: flex-end; gap: 1rem;">
                    <button type="button" id="cancel-payment-button" class="button button-secondary">Cancelar</button>
                    <button type="submit" class="button button-primary">Enviar Reporte</button>
                </div>
            </form>
        </div>
    </div>
    <!-- ====== Modal de Reporte de Pago - Fin ====== -->
  </section>
</body>
</html>